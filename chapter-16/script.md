# Лекция 16


(Говорящая голова)

И вот мы встретились снова. Сегодня мы продолжим ковыряться во
внутренностях Django и не будем уходить далеко от шаблонизации. Вместо
этого лучше рассмотрим более детально как работает генерация путей в
этом фреймворки и каким образом можно расширить возможности создания
страниц. Уже с одной только этой информацией можно будет создавать
сайты которые будут выглядеть достаточно убедительно в вашем
портфолио, хотя чтобы всё стало ещё лучше, нам необходимо будет в
какой-то момент добавить к нашему коду работу с базами данных. Но этим
мы займемся уже на следующем занятии. А сегодня приготовьтесь к очень
большому объему верстки и изучению псевдо языка разметки используемого
в шаблонизаторе Django. Не будем долго тянуть и приступим к
сегодняшней теме

(видео конспект)

https://drive.google.com/open?id=1MHHnIWzGKvucdQ9XQze5B6_rGgmJ0rpM Переменные

----------------------------------------------------------------

(Говорящая голова)

После того как вы научились выводить переменные в шаблонах Django и
немного попрактиковались чтобы чувствовать себя уверенно, можно
переходить к следующей части. Основная сложность в шаблонах Django -
это инструкция. Мы уже с ними сталкивались. Например подключение файла
— это инструкция. Инструкции, в отличие от переменных, записываются
внутри комбинации фигурная скобка и знак процентa. Их задача может
быть самой разной, будь то вывод значения на экран, построение цикла,
подключение стороннего файла и всё что угодно другое. Так что нет
какого-то общего шаблона который позволит вам угадать, что же можно
ожидать от следующей инструкции. Их нужно просто выучить. Давайте
расширять свой словарный запас инструкций

(видео конспект)


https://drive.google.com/open?id=14Ca3fgFBMQ0jRWrJA2CHhDoIjp0cn-Ct Инструкции

----------------------------------------------------------------

(Говорящая голова)

Абсолютно все виды инструкций мы затрагивать не будем, посмотрим
только самые интересные и наиболее часто используемые. Но сразу хочу
уточнить, что все инструкции прописанны в обычных функциях на питоне,
поэтому ничего необычного они сделать не смогут. Всё что вы делаете с
помощью инструкций, вы могли бы заранее сгенерировать в коде на
питоне, а потом передать в шаблон в виде переменной. Но это было бы
не столь изящно и по-детски. Так что учите инструкции чтобы выглядеть
круто.

(видео конспект)

https://drive.google.com/open?id=1ov8-HPNT7Y4lwppsi7wU4EfRxRQio453 cycle-url-firstof

----------------------------------------------------------------

(Говорящая голова)

Некоторые теги достаточно интересны в плане функционала и я думаю что
это было бы не простой задачей - написать код, реализующий схожие
действия. Стоит однако отметить что вы должны стремится уменьшить
количество логики исполняемой в шаблоне к минимуму. Любой код будет
более эффективным, если его написать на питоне. Но во многих случаях
вы можете немного пожертвовать производительностью ради того чтобы
написать аккуратное и читаемое приложение - поэтому балансируйте между
собственными решениями и встроенным функционалом. Немного передохнули
и глянем ещё на парочку тегов

(видео конспект)


https://drive.google.com/open?id=1F40vYIe_uu1nkDqYSDnsWWmeoXcmomSl ifchanged-with-load

----------------------------------------------------------------

(Говорящая голова)

Следующая секция которую мы затронем в шаблонизаторе Django - это
фильтры. Фильтры это нечто вроде функций, это конструкция которые
изменяют входящие значения. Например у вас строка которую вы хотите
вывести - для этого вы будете использовать двойные фигурные скобки. А
если вы эту строку захотите слегка модифицировать, перевести ее в
другой регистр, либо выполнить в ней замену пары символов иил
выполнить ещё какие-либо модификации — для всего этого вы можете
использовать либо методы строки, либо фильтры. Фильтры в данной
ситуации более предпочтительный, потому что их больше, их легко
создавать, и они могут получать аргументы. Синтаксис использования
фильтров слегка необычен, но к нему легко привыкнуть.

(видео конспект)

https://drive.google.com/open?id=1EjCHTrUFIfjCp6ASbF3LtLvdTMJ3dRpD default-case-cut-add

----------------------------------------------------------------

(Говорящая голова)

Фильтры не представляют собой ничего более чем обычная функция,
которая принимает значение на вход и возвращает модифицированное
значение. Поэтому фильтры достаточно эффективных при вызове, и вы
можете не переживать за производительность. По моим ощущениям в Django
гораздо больше фильтров, чем тегов.  Но так как многое зависит от
подключенных модулей, то данные утверждения нельзя считать очень
авторитетным. Не все фильтры выдают непосредственно то значение
которое в них попалo, некоторые фильтры преобразует значение до
неузнаваемости, поэтому продолжайте следить за используемым
инструментом. А я продолжаю рассматривать существующие фильтры

(видео конспект)


https://drive.google.com/open?id=1mrEKiYTKPS7xrbbmjOkIxvrq0F_uFBD8 yesno-trunc-urlize-length

----------------------------------------------------------------

(Говорящая голова)

Ну хорошо, я могу творить самые расчудесные чудеса с переменными в
прямо в шаблоне, но как мне эти переменные в шаблон передать? Есть у
вас возникает подобная мысль, значит вы на очень правильном пути. Нам
нужно как-то приноровиться и передавать в шаблон информацию на
основании текущего запроса. Если призадуматься, то пока единственный
способ передачи хоть какой-то информацией на сервер — это адресная
строка вашего браузера. Мы уже умеем создавать статические адреса
которые полностью совпадают с путём, введенным в браузере. А теперь
настало время ознакомиться и с динамическими адресами

(видео конспект)


https://drive.google.com/open?id=1CHwMRvAoj4AfhSqjZKRrlWXdL9SoaJ4E Динамический роутинг


----------------------------------------------------------------

(Говорящая голова)

Чтобы нам ещё сделать такое необычное? Наверное стоит вам рассказать о
том, как создавать свои собственные расширение для шаблонизатора
Django. Тем более я уже несколько раз оговорился о том, что это вполне
возможно.  Ничего не поделаешь, сам виноват —` не следил сразу
словами, теперь придётся всё вам рассказывать. Будьте внимательны,
потому что расширение шаблонизатора слегка неочевидно. Тут следует
соблюдать множество правил, которые в принципе достаточно подробно
описаны в документации, так что вы всегда сможете найти эти детали,
даже если забудете то, что расскажу я

(видео конспект)


https://drive.google.com/open?id=1-UNh3wrp9GacBNTkQElunzVRV8DZ3wlX Создание тегов

----------------------------------------------------------------

(Говорящая голова)

Я думаю стоит на этом остановиться, иначе вы станете разбираться в
Django даже лучше чем я. А я останусь в результате без
работы. Разумеется, в данном случае я этого не скажу, а вместо этого
сделаю вид что мне просто вас жалко и я не хочу загружать вас сложной
и ненужной информацией. А вы в свою очередь должны дико обрадоваться,
потому что информация на самом деле много и она становится гораздо
более разнообразной чем это было в начале курса. Но в действительности
всё как раз и основывается на том с чего начинали на наш курс и, если
предположить что вы очень хорошо освоили базис, пусть и с трудом, но
сейчас вы должны справляться с объемами работы. В следующий раз всё
будет гораздо хитрее. Мы наконец отойдем от этого злополучного HTML мы
перейдем непосредственно к работе с базами данных. Если вы очень
хорошо знаете SQL, это вам поможет. Но должен заранее предупредить —
ни строчки SQL мы так и не напишем. А сегодня я предпочту сохранить
интригу и не рассказывать, как же мы всё-таки сумеем работать с базами
данных не используя очевидный для этого инструмент.

И на этой ноте я своим прощаюсь, потому что мои коты срочно требует
чтобы я их начал кормить и гладить. Сами понимаете — коты превыше
всего.  Так что всего хорошего и до встречи на следующем занятии