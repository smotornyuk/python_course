# Лекция 18

(Говорящая голова)

И уже в который раз - привет. Уже успели прийти в себя после
последнего занятия с базами данных? Думаю, после него , сегодняшнего
занятия покажется достаточно несложным. А всё потому, что сегодня мы в
основном сконцентрированы свое внимание на пользовательском интерфейсе
и сведем к минимуму объем новой информации. Вместо этого мы будем
связывать воедино звенья цепочки в разобранные на последних трех
занятиях. Разумеется, полезно знать как организовать генерацию
страницы, либо Как работать с базой данных, однако это всё не имеет
смысла , если вы не можете организовать свой проект или реализовать
работоспособную в систему в соответствии с требованиями вашего
заказчика.

И Посему начнём мы сегодня с того, что выведем тебе 6 десятков статей
которые были созданы на прошлом занятии в окошко браузера. У нас уже
есть базовая настройка, содержащая домашнюю страницу и функцию,
генерирующую контент для неё. Также у нас есть базовый шаблон от
которого наследуется в шаблон домашней страницы. Я его немного
подправил таким образом, что внешне наша страница теперь не будет
смотреться так убого , но Никаких существенных изменений в логику
работы приложения не вносил. Так что вы можете заглянуть в предыдущую
уроки , для того чтобы освежить в памяти текущую обстановку.

(видео конспект)


18-01-main-page

----------------------------------------------------------------

(Говорящая голова)

Теперь, когда мы видим хоть какую-то информацию, можно добавлять в
действии. Возможно мы захотим добавить возможность создавать новые
статьи прямо на странице. Для этого нам нужна форма , то есть группа
полей в который можно вести необходимую информацию нажать кнопочку
сохранить и статья появится у нас на сайте. Несмотря на то что формы и
процесс их создания относится к верстке, они очень тесно связаны с
логикой работы вашего приложения. А потому создание форм временами
больше напоминает программирование чем верстку. Для нас, форму будет и
разделяться на две группы. Первая группа Это форма предназначенное для
получения информации вторая группа это Форма предназначена для
модификации информации, причём под модификация подразумевается как
обновление статей, так и создание, и даже удаление.

 Для общения с вашим сервером браузер использует набор стандартов ,
 называемый http протоколом.  Простыми словами, это свод правил,
 который объясняет Какую информацию браузер должен предоставить
 серверу, чтобы тот мог сгенерировать страницу. И, во-вторых, в какой
 форме сервер должен отвечать браузеру , чтобы браузер смог корректно
 отобразить данные. Дабы сильно не изгаляться, обращение браузера к
 серверу называют запросом, а отдача контента сервером браузеру —
 называет ответом. И запрос и ответ имеют одинаковую структуру — они
 состоят из двух частей. Первая часть - это серия заголовков которые
 выражены строками с деталями и настройками запроса. Например, в каком
 формате браузер хотел бы получить ответ. В случае если это ответ, то
 заголовки может содержать информацию о том, на каком языке этот ответ
 написан. Вторая часть ответа из запроса, это тело. В случае запроса,
 тело содержит те данные, которые пользователь отправляет на сервер. В
 случае ответа, тело содержит саму страницу которую браузер должен
 отобразить . Вот в общем-то и всё. Создавая форму в браузере, мы
 позволяем постели не задумываться над всеми этими техническими
 деталями и просто вводить данные в понятный интерфейс. После чего
 форма сама уже их необходимо образом преобразует и отправит на
 сервер. Для начала напишем небольшую форму, которая позволит
 фильтровать данные отображаемые на странице

(видео конспект)


18-02-search

----------------------------------------------------------------

(Говорящая голова)

А теперь, зная Как создавать формы и отправлять данные на сервер,
переделаем форму поиска на форму создания новой статьи. Так как-то
будет форма для модификации, а не получения данных, в ней придется
изменить метод.  Также нам Стоит подумать о том, какие поля Мы хотим
контролировать в момент создания статьи. Например, заголовок и контент
однозначно нужно указывать, и даже сделать их обязательными. А что
насчёт автора.?  Теоретически, автором должен быть в текущий
авторизированный пользователь . Но раз у нас таковых нет, а утром буду
считаться Я в абсолютно любой статье. Что касается дата создания, то
там проще всего — она у нас создается автоматически в момент
сохранения статьи, поэтому там заморачиваться даже не нужно. Важно
отметить, что по умолчанию, все поля вашей модели являются
обязательными, Поэтому если вы забудете указать, то сохранить элемент
в базу у вас не выйдет. Если вы проверьте это утверждение, то вы
заметите что я соврал. Ну, почти соврал. Тут дело в том что по
умолчанию Django использует SQ lite как систему управления базами
данных, и она не особо придирчиво относится к сохранению данных. Но
если вдруг вы переключитесь на что-то другое, а в реальной жизни
именно так и произойдет, то там у вас уже не получится сохранить
модель с пустыми полями. Так что сразу берём за правило — не оставлять
пустых значений.

(видео конспект)


18-03-create

----------------------------------------------------------------

(Говорящая голова)

Постоянно создавать формы может оказаться весьма скучной задачей. Да и
пока Ваш проект развивается, в каждой форме будет появляться Новые
поля и бегать по всем страницам, в попытках обновить разметку Вы уж
точно не захотите. Потому нам нужно автоматизировать процесс создания
форм . Хорошая новость это уже предусмотрено в джанга. Плохая новость
вам придётся разобраться с ещё одним классом и его правилами создания
. Но, одним классом больше, одним меньше —вам уже всё равно нечего
терять. Потому — начинаем всё автоматизировать направо и налево

(видео конспект)

18-04-form-class

----------------------------------------------------------------

(Говорящая голова)

Логичным продолжением нашей эпопеи будет создание страницы, на которой
можно редактировать и удалять наши статьи. Тут нам придется совместить
множество изученных техник — создание нового адреса , рендеринг
шаблона, вывод и обработка формы. Но если вы присмотритесь
внимательнее, то вы заметите что большая часть работы может быть
выполнена просто с помощью копирования кода из других частей
программы, и модификации будет крайне мало.  Также, забегая наперёд,
отмечу что удаление статьи будут производиться с помощью формы
. Несмотря на то что кнопка удалить будет выглядеть вполне
самостоятельно, сам процесс удаления является модификация данных, а
значит мы должны совершить его с помощью Post запроса. И следствия из
всего этого — кнопка удалить должна находиться внутри формы,
отправляющийся соответствующим методом. Если бы мы попытались здесь
что-то упростить, то мы нарушили бы некоторые стандарты и наверняка об
этом пожалели бы в будущем

(видео конспект)

18-05-delete

----------------------------------------------------------------

(Говорящая голова)

Наверное удаление Это мой любимый процесс в написании сайтов. Всего
несколько строк и она начинает работать. Но у вас будут возникать не
только простые задачи поэтому сейчас мы качаемся на более сложно, а
именно — обновление статей. Для этого нам нужно будет форма, в которой
в момент загрузки страницы будут отображаться текущие данные и
статьи. Если мы эти данные исправим и нажмем сохранить, статья Должна
обновиться в базе. На первый взгляд совсем ничего сложного, но Чтобы
избежать большого объёма ненужного кода, нам придётся добавить в нашу
копилку еще один полезный класс.

(видео конспект)


18-06-update

----------------------------------------------------------------

(Говорящая голова)

Да хоть нам и пришлось немного попотеть прописываю весь этот код, его
однозначно меньше , чем было бы в реализации написаны без
использования Django. Но мы не делали ничего Сверхъестественного, даже
более того — все задачи которые мы выполняли это повседневная рутина,
и тратить на них несколько часов на каждом новом проекте не хочется
никому. Потому вднг существует набор классов для реализации Вот таких
вот стандартных задач. Пользование этих классов вам нужно во-первых
понимать, Как реализовать Весь процесс самостоятельно , во-вторых —
знать необходимые параметры для этих классов. Давайте я постараюсь
быстро о них рассказать

(видео конспект)


18-07-generic

----------------------------------------------------------------

(Говорящая голова)

А теперь не мешало бы ограничить доступ к нашему сайту, точнее
контента на нём. В любом проекте вы когда-нибудь придете К тому, что
вам нужно создать административную секцию сайта. Там вы сможете
раздавать отдельным пользователям права на создание, удаление, либо
правку любого контента. Возможно вы захотите обменять пользователей
группы и раздавать права на определенное действие сразу все
группе. Возможно вы будете выдавать бан отдельным пользователем. Либо
вас будет аккаунты, который необходимо активировать. Как бы там ни
было, административная секция очень важнa , но нам не придется писать
с нуля, так как она уже предоставлена встроенными плагинами Django
. Давайте рассмотрим его подробней

(видео конспект)

18-08-admin

----------------------------------------------------------------

(Говорящая голова)

Вот Мы создали самый простой и достаточно классический проект, похожий
на новостной портал. Последний штрих, чтобы сделать это всё совсем уж
похожим на реальную жизнь , и можно считать что вы полноценные в веб
разработчики . Нам нужно опубликовать наш проект в реальном мире,
выгрузить его на какой-то из существующих хостингов. Так как за
рекламу мне никто дополнительные заплатил, советовать что-то
определённое не буду, вместо этого выберу вариант , которое совмещает
в себе простоту и отсутствие необходимости платить деньги , Разумеется
до определённого момента. Мы вполне сумеем уложиться в бесплатную
версию. Внимание на экран

(видео конспект)


18-09-deploy

----------------------------------------------------------------

(Говорящая голова)

Вот, пожалуй, и всё. Теперь у вас есть весь необходимый запас знаний
для того чтобы начать разрабатывать свои собственные
веб-сайты. Разумеется, возможности выбора сработке и технологии
которые тут используют не ограничивается лишь изученным. Более того, я
сомневаюсь что кто-то способен изучить все технологии , используемые в
web-разработкe.  Хотя бы потому что с каждым днем появляется новые
инструменты, временами более совершенные, временами достаточно
бесполезные, но их становится всё больше и больше. Потому не стоит
пытаться угнаться за всем , вместо этого сконцентрируйтесь на том, что
доставляет вам удовольствие И, разумеется, приносят деньги. Django
вполне подойдёт на эту роль. Тем более в нём есть так много готовых
плагинов, которые предоставляют кучу интересных фишек, что вам вряд ли
станет скучно и на нём работать ближайшие несколько лет.

Новости перейдёт финальная и так полагаю самая сложная
контрольная. Выложитесь на полную, потому что она отражает суть всего
чтобы проходили На этом курсе, ради неё мы с вами встречались на всех
этих занятиях и выполнение этой контрольной докажет что вы вполне
способны заниматься в разработкой. Возможно даже вы захотите
использовать результат этой контрольной в своем портфолио. Но я на
этом с вами прощаюсь и надеюсь что когда-нибудь мы встретимся в
реальной жизни. Удачи, коллега!